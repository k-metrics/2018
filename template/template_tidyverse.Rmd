---
title: "Untitled"
author: "Your Name"
date: "`r format(Sys.Date(), format = '%Y年%m月%d日')`"
output:
  html_document:
    code_folding: show
    df_print: "paged"
    highlight: default
    md_extensions: -ascii_identifiers
    number_sections: no
    theme: cerulean
    toc: yes
    toc_depth: 3
    toc_float:
      collapsed: yes
      smooth_scroll: no
  ioslides_presentation:
    df_print: paged
    smaller: false
    widescreen: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE)

require(tidyverse)
```

# 目次

1. 『ソフトウェアメトリクス統計分析入門』から
    * dplyrの基本的な使い方を学ぶ（パイプによる処理）
1. anscombe（アンスコム）のデータ例
    * tidyrの基本的な使い方を学ぶ（典型的な縦横変換）
1. データフレームを変換する
    * データフレーム型の制限を知る
1. 統計量のクロス集計
    * クロス集計の方法を学ぶ（基本的な集計の形）
1. チケット数をカウントする
    * 時系列でのデータ集計方法を学ぶ（可視化のための前処理）

　  

# 演習１
ソフトウェアメトリクス統計分析入門のP46にある演習1.4を解いてみましょう。最終的な解答は解答例にあるようにデータ・フレーム型にまとめてください。また、コードは基本的にパイプ演算子（ %>% ）を用いてみましょう。必要に応じてコード・チャンクは分割して、コードや処理の説明を記載してみましょう。  
Markdown記法に関してはRStudioのヘルプから参照してください。  
　  

> **問題**
> 生産性に加えて、工数予実割合も加味してプロジェクトの評価をしようと考えています。以下の条件、方法に従い、各プロジェクトを**A～Eの5段階で評価**してください。  
>   
> * 生産性は高いほど良い、工数予実割合は低いほど良いとします。
> * 手順は以下のとおりとします。
> 
> 1. 欠損値のあるレコード（プロジェクト）は除外してください
> 1. 生産性のデータ分布確認は省略し、平均と標準偏差を計算してください
> 1. 工数予実割合のデータ分布確認は省略し、平均と標準偏差を算出してください
> 1. 各プロジェクトの生産性のZスコアを算出します
> 1. 各プロジェクトの工数予実割合のZスコアを算出します	
>    （ただし、工数予実割合は低いほど良いので符号を間違えないように）
> 1. 各プロジェクトの生産性と工数予実割合のZスコアの平均値を算出します
> 1. Zスコアの平均値から偏差値を計算します
> 1. 上記で求めたZスコアの平均値を以下のとおりA～Eの評価に換算します
>     + Zスコアが、-0.5～0.5は中間の評価でC
>     + Zスコアが、0.5～1.5はB、-1.5～-0.5 はD
>     + Zスコアが、1.5超えるものはA、-1.5を下回るものはE

^『ソフトウェアメトリクス統計分析入門』（小池著）P46,47より引用し一部変更^
　  

```{r}
# データの読み込み
"https://k-metrics.github.io/2018dasg/data/data_utf8.csv" %>%
# "../data/data_utf8.csv" %>% 
  readr::read_csv(locale=locale(encoding="UTF-8"))

# 読み込んだデータの確認

# 平均値と標準偏差の算出

# Zスコアの計算

# 偏差値の算出

# Zスコアを評価

# 結果の表示

```

　  

# 演習２
`anscombe`データセットをガイダンス資料にあるような整然データに変換してください。  

```{r}
anscombe

```

　  

# 演習３
`iris`データセットをガイダンス資料にあるような形に変更してください。 

```{r}
iris

```

　  

# 演習４
`mtcars`データセットを用いて`gear`（ギア数）と`cyl`（シリンダ数）で`mpg`（燃費）の平均値をクロス集計してください。

```{r}
mtcars

```

　  

# 演習５
オープン・クローズチャートを作成するために2017年に起票されたRedmineのチケットを週単位でオープンチケットとクローズチケットに分けて集計してください。チケットデータは"data"フォルダ内にあります。    
　  
集計条件

* 2017年に起票されたチケット（開始日が2017/1/1から2017/12/31）が対象
* 集計は週次（2017年の第1週から第53週）
* オープンチケットは開始日で、クローズチケットは終了日で週次に集計  
* 共に累計も計算する
* データがない週も考慮する

変数名は日本語ですが英語に変更しておいた方が処理の記述が楽です。

```{r}
"https://k-metrics.github.io/2018dasg/data/redmine_data_utf8.csv" %>% 
# "../data/redmine_data_utf8.csv" %>% 
  readr::read_csv(locale = locale(encoding = "UTF-8"))

```

　  

<!-- 演習６以降はご自分でセクションとチャンクを追加して解答してください。 -->

---

your signiture and licence